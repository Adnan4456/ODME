<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FileConvertion.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">SESEditor</a> &gt; <a href="index.source.html" class="el_package">odme.core</a> &gt; <span class="el_source">FileConvertion.java</span></div><h1>FileConvertion.java</h1><pre class="source lang-java linenums">package odme.core;

import javax.swing.tree.TreePath;

import odme.jtreetograph.JtreeToGraphGeneral;
import odme.odmeeditor.ODMEEditor;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.Scanner;

/**
 * &lt;h1&gt;FileConvertion&lt;/h1&gt;
 * &lt;p&gt;
 * This class is used to convert files to desired formats which are used in the
 * project for various purposes.
 * &lt;/p&gt;
 *
 * @author ---
 * @version ---
 */
<span class="nc" id="L25">public class FileConvertion {</span>

    // for modifying the generated xml output
    public void xmlToXSDConversion() {

<span class="nc" id="L30">        int entiyAfterMAsp = 0;</span>

<span class="nc" id="L32">        PrintWriter f0 = null;</span>
        try {
        	
<span class="nc" id="L35">        	String path = new String();</span>
<span class="nc bnc" id="L36" title="All 2 branches missed.">        	if (ODMEEditor.toolMode == &quot;ses&quot;)</span>
<span class="nc" id="L37">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/xsdfromxml.xsd&quot;;</span>
        	else
<span class="nc" id="L39">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.currentScenario + &quot;/xsdfromxml.xsd&quot;;</span>
        	
<span class="nc" id="L41">            f0 = new PrintWriter(</span>
                    new FileWriter(path));
        } 
<span class="nc" id="L44">        catch (IOException e1) {</span>
<span class="nc" id="L45">            e1.printStackTrace();</span>
<span class="nc" id="L46">        }</span>

<span class="nc" id="L48">        Scanner in = null;</span>
        try {
        	
<span class="nc" id="L51">        	String path = new String();</span>
<span class="nc bnc" id="L52" title="All 2 branches missed.">        	if (ODMEEditor.toolMode == &quot;ses&quot;)</span>
<span class="nc" id="L53">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsd.xml&quot;;</span>
        	else
<span class="nc" id="L55">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.currentScenario + &quot;/outputgraphxmlforxsd.xml&quot;;</span>
        	
        	
<span class="nc" id="L58">            in = new Scanner(new File(path));</span>
        } 
<span class="nc" id="L60">        catch (FileNotFoundException e) {</span>
<span class="nc" id="L61">            e.printStackTrace();</span>
<span class="nc" id="L62">        }</span>
<span class="nc bnc" id="L63" title="All 2 branches missed.">        while (in.hasNext()) {</span>

<span class="nc" id="L65">            String mod = null;</span>
<span class="nc" id="L66">            String line = in.nextLine();</span>
<span class="nc" id="L67">            String backConstraints = line;</span>

<span class="nc bnc" id="L69" title="All 2 branches missed.">            if (line.startsWith(&quot;&lt;?&quot;)) { // have to solve space problem for this line</span>
<span class="nc" id="L70">                f0.println(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; standalone=\&quot;no\&quot;?&gt;&quot;);</span>
<span class="nc" id="L71">                f0.println(&quot;&lt;xs:schema xmlns:xs=\&quot;http://www.w3.org/2001/XMLSchema\&quot; &quot;</span>
                           + &quot;\n xmlns:vc=\&quot;http://www.w3.org/2007/XMLSchema-versioning\&quot; &quot;
                           + &quot;\n elementFormDefault=\&quot;qualified\&quot; vc:minVersion=\&quot;1.1\&quot; &gt;&quot;);
<span class="nc" id="L74">                f0.println(); // for one line gap</span>

            } 
<span class="nc bnc" id="L77" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;/&quot;)) {</span>
<span class="nc" id="L78">                String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L80" title="All 2 branches missed.">                if (result.endsWith(&quot;Dec&quot;)) {</span>
<span class="nc" id="L81">                    mod = &quot;&lt;/xs:sequence&gt;&quot;;</span>
<span class="nc" id="L82">                    f0.println(mod);</span>

                } 
<span class="nc bnc" id="L85" title="All 2 branches missed.">                else if (result.endsWith(&quot;MAsp&quot;)) {</span>

<span class="nc" id="L87">                    mod = &quot;&lt;/xs:sequence&gt;&quot;;</span>
<span class="nc" id="L88">                    f0.println(mod);</span>

                } 
<span class="nc bnc" id="L91" title="All 2 branches missed.">                else if (result.endsWith(&quot;Spec&quot;)) {</span>
<span class="nc" id="L92">                    mod = &quot;&lt;/xs:choice&gt;&quot;;</span>
<span class="nc" id="L93">                    f0.println(mod);</span>

                } 
<span class="nc bnc" id="L96" title="All 2 branches missed.">                else if (result.endsWith(&quot;Seq&quot;)) {</span>
<span class="nc" id="L97">                    mod = &quot;&lt;/xs:sequence&gt;&quot;;</span>
<span class="nc" id="L98">                    f0.println(mod);</span>
                } 
                else {
<span class="nc" id="L101">                    f0.println(&quot;&lt;xs:attribute name=\&quot;name\&quot; use=\&quot;optional\&quot;/&gt; &quot;);</span>
<span class="nc" id="L102">                    f0.println(&quot;&lt;/xs:complexType&gt;&quot;);</span>
<span class="nc" id="L103">                    mod = &quot;&lt;/xs:element&gt;&quot;;</span>
<span class="nc" id="L104">                    f0.println(mod);</span>
                }

<span class="nc" id="L107">            } </span>
<span class="nc bnc" id="L108" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;&quot;)) {</span>
<span class="nc bnc" id="L109" title="All 2 branches missed.">                if (line.endsWith(&quot;/&gt;&quot;)) {</span>
<span class="nc" id="L110">                    String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L112" title="All 2 branches missed.">                    if (result.endsWith(&quot;Var&quot;)) {</span>
<span class="nc" id="L113">                        String novarresult = result.replace(&quot;Var&quot;, &quot;&quot;);</span>

                        // variable with proper style
<span class="nc" id="L116">                        String[] properties = novarresult.split(&quot;,&quot;);</span>
<span class="nc bnc" id="L117" title="All 4 branches missed.">                        if (properties[1].equals(&quot;string&quot;) || properties[1].equals(&quot;boolean&quot;)) {</span>
<span class="nc" id="L118">                            f0.println(</span>
                                    &quot;&lt;xs:attribute name=\&quot;&quot; + properties[0] + &quot;\&quot; default=\&quot;&quot; + properties[2]
                                    + &quot;\&quot;&gt;&quot;);
<span class="nc" id="L121">                            f0.println(&quot;&lt;/xs:attribute&gt;&quot;);</span>
                        } 
                        else {
<span class="nc" id="L124">                            f0.println(</span>
                                    &quot;&lt;xs:attribute name=\&quot;&quot; + properties[0] + &quot;\&quot; default=\&quot;&quot; + properties[2]
                                    + &quot;\&quot;&gt;&quot;);
<span class="nc" id="L127">                            f0.println(&quot;&lt;xs:simpleType&gt;&quot;);</span>
<span class="nc" id="L128">                            f0.println(&quot;&lt;xs:restriction base=\&quot;xs:&quot; + properties[1] + &quot;\&quot;&gt;&quot;);</span>
<span class="nc" id="L129">                            f0.println(&quot;&lt;xs:minInclusive  value=\&quot;&quot; + properties[3] + &quot;\&quot;/&gt;&quot;);</span>
<span class="nc" id="L130">                            f0.println(&quot;&lt;xs:maxInclusive value=\&quot;&quot; + properties[4] + &quot;\&quot;/&gt;&quot;);</span>
<span class="nc" id="L131">                            f0.println(&quot;&lt;/xs:restriction&gt;&quot;);</span>
<span class="nc" id="L132">                            f0.println(&quot;&lt;/xs:simpleType&gt;&quot;);</span>
<span class="nc" id="L133">                            f0.println(&quot;&lt;/xs:attribute&gt;&quot;);</span>
                        }

<span class="nc" id="L136">                    } </span>
<span class="nc bnc" id="L137" title="All 2 branches missed.">                    else if (result.endsWith(&quot;Con&quot;)) {</span>
<span class="nc" id="L138">                        String resultCon =</span>
<span class="nc" id="L139">                                backConstraints.replaceAll(&quot;[&lt;&gt;]&quot;, &quot;&quot;); // to keep the space backConstraints</span>
                        // is used here otherwise else and
                        // true() will be elsetrue();
<span class="nc" id="L142">                        String nonconresult =</span>
<span class="nc" id="L143">                                resultCon.replace(&quot;Con/&quot;, &quot;&quot;); // with Con also / added here then Con/ for</span>
                        // replacement. because xpath query itself
                        // contain /, so can not all / from query
<span class="nc" id="L146">                        f0.println(&quot;&lt;xs:assert test=\&quot;&quot; + nonconresult + &quot;\&quot; /&gt;&quot;);</span>
<span class="nc" id="L147">                    } </span>
<span class="nc bnc" id="L148" title="All 2 branches missed.">                    else if (result.endsWith(&quot;RefNode&quot;)) {</span>
<span class="nc" id="L149">                        String noRefNoderesult = result.replace(&quot;RefNode&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L151" title="All 4 branches missed.">                        if (noRefNoderesult.endsWith(&quot;Dec&quot;) || noRefNoderesult.endsWith(&quot;MAsp&quot;)) {</span>
<span class="nc" id="L152">                            f0.println(&quot;&lt;xs:sequence ref=\&quot;&quot; + noRefNoderesult + &quot;\&quot;/&gt;&quot;);</span>
                        } 
<span class="nc bnc" id="L154" title="All 2 branches missed.">                        else if (noRefNoderesult.endsWith(&quot;Spec&quot;)) {</span>
<span class="nc" id="L155">                            f0.println(&quot;&lt;xs:choice ref=\&quot;&quot; + noRefNoderesult + &quot;\&quot;/&gt;&quot;);</span>
                        } 
                        else {
<span class="nc" id="L158">                            f0.println(&quot;&lt;xs:element ref=\&quot;&quot; + noRefNoderesult + &quot;\&quot;/&gt;&quot;);</span>
                        }

<span class="nc" id="L161">                    } </span>
                    else {
<span class="nc" id="L163">                        mod = &quot;&lt;xs:element name=\&quot;&quot; + result + &quot;\&quot;/&gt;&quot;;</span>
<span class="nc" id="L164">                        f0.println(mod);</span>
                    }

<span class="nc" id="L167">                } </span>
                else {
<span class="nc" id="L169">                    String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L171" title="All 2 branches missed.">                    if (result.endsWith(&quot;Dec&quot;)) {</span>
<span class="nc" id="L172">                        mod = &quot;&lt;xs:sequence id=\&quot;&quot; + result + &quot;\&quot;&gt;&quot;;</span>
<span class="nc" id="L173">                        f0.println(mod);</span>

                    } 
<span class="nc bnc" id="L176" title="All 2 branches missed.">                    else if (result.endsWith(&quot;MAsp&quot;)) {</span>
<span class="nc" id="L177">                        mod = &quot;&lt;xs:sequence id=\&quot;&quot; + result + &quot;\&quot;&gt;&quot;;</span>
<span class="nc" id="L178">                        f0.println(mod);</span>
<span class="nc" id="L179">                        entiyAfterMAsp = 1;</span>

                    } 
<span class="nc bnc" id="L182" title="All 2 branches missed.">                    else if (result.endsWith(&quot;Spec&quot;)) {</span>
<span class="nc" id="L183">                        mod = &quot;&lt;xs:choice id=\&quot;&quot; + result + &quot;\&quot;&gt;&quot;;</span>
<span class="nc" id="L184">                        f0.println(mod);</span>
                    } 
                    else {
<span class="nc bnc" id="L187" title="All 2 branches missed.">                        if (entiyAfterMAsp == 1) {</span>
<span class="nc" id="L188">                            mod = &quot;&lt;xs:element name=\&quot;&quot; + result</span>
                                  + &quot;\&quot; minOccurs=\&quot;0\&quot; maxOccurs=\&quot;unbounded\&quot;&gt;&quot;;
<span class="nc" id="L190">                            f0.println(mod);</span>
<span class="nc" id="L191">                            f0.println(&quot;&lt;xs:complexType&gt;&quot;);</span>

<span class="nc" id="L193">                            entiyAfterMAsp = 0;</span>
                        } 
<span class="nc bnc" id="L195" title="All 2 branches missed.">                        else if (result.endsWith(&quot;Seq&quot;)) {</span>
<span class="nc" id="L196">                            mod = &quot;&lt;xs:sequence&gt;&quot;;</span>
<span class="nc" id="L197">                            f0.println(mod);</span>
                        } 
                        else {
<span class="nc" id="L200">                            mod = &quot;&lt;xs:element name=\&quot;&quot; + result + &quot;\&quot;&gt;&quot;;</span>
<span class="nc" id="L201">                            f0.println(mod);</span>
<span class="nc" id="L202">                            f0.println(&quot;&lt;xs:complexType&gt;&quot;);</span>
                        }
                    }
                }
            }
<span class="nc" id="L207">        }</span>

<span class="nc" id="L209">        f0.println(&quot;&lt;/xs:schema&gt;&quot;);</span>
<span class="nc" id="L210">        in.close();</span>
<span class="nc" id="L211">        f0.close();</span>
<span class="nc" id="L212">    }</span>

    public void variableAdditionToNode(TreePath key, String variableName) {
<span class="nc" id="L215">        Object[] stringArrayRev = key.getPath();</span>

<span class="nc" id="L217">        int len = stringArrayRev.length;</span>
<span class="nc" id="L218">        int count = 0;</span>

<span class="nc" id="L220">        Scanner in = null;</span>
        try {
<span class="nc" id="L222">        	String path = new String();</span>
<span class="nc bnc" id="L223" title="All 2 branches missed.">        	if (ODMEEditor.toolMode == &quot;ses&quot;)</span>
<span class="nc" id="L224">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsd.xml&quot;;</span>
        	else
<span class="nc" id="L226">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.currentScenario + &quot;/outputgraphxmlforxsd.xml&quot;;</span>
        	
<span class="nc" id="L228">            in = new Scanner(new File(path));</span>
        } 
<span class="nc" id="L230">        catch (FileNotFoundException e) {</span>
<span class="nc" id="L231">            e.printStackTrace();</span>
<span class="nc" id="L232">        }</span>

<span class="nc" id="L234">        PrintWriter f0 = null;</span>
        try {
<span class="nc" id="L236">        	String path = new String();</span>
<span class="nc bnc" id="L237" title="All 2 branches missed.">        	if (ODMEEditor.toolMode == &quot;ses&quot;)</span>
<span class="nc" id="L238">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsdvar.xml&quot;;</span>
        	else
<span class="nc" id="L240">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.currentScenario + &quot;/outputgraphxmlforxsdvar.xml&quot;;</span>
        	
<span class="nc" id="L242">            f0 = new PrintWriter(new FileWriter(path));</span>
        } 
<span class="nc" id="L244">        catch (IOException e1) {</span>
<span class="nc" id="L245">            e1.printStackTrace();</span>
<span class="nc" id="L246">        }</span>

<span class="nc bnc" id="L248" title="All 2 branches missed.">        while (in.hasNext()) {</span>
<span class="nc" id="L249">            String line = in.nextLine();</span>
<span class="nc" id="L250">            String backLine = line;</span>

<span class="nc bnc" id="L252" title="All 2 branches missed.">            if (line.startsWith(&quot;&lt;?&quot;)) { // have to solve space problem for this line</span>
<span class="nc" id="L253">                f0.println(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; standalone=\&quot;no\&quot;?&gt;&quot;);</span>
            } 
<span class="nc bnc" id="L255" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;if(&quot;)) {</span>
<span class="nc" id="L256">                f0.println(backLine);</span>
            } 
<span class="nc bnc" id="L258" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;&quot;)) {</span>
<span class="nc" id="L259">                String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L261" title="All 2 branches missed.">                if (count &lt; len) {</span>
<span class="nc bnc" id="L262" title="All 2 branches missed.">                    if (result.equals(stringArrayRev[count].toString())) {</span>
<span class="nc" id="L263">                        count++;</span>
                    }
<span class="nc bnc" id="L265" title="All 2 branches missed.">                    if (count == len) {</span>
<span class="nc bnc" id="L266" title="All 2 branches missed.">                        if (line.endsWith(&quot;/&gt;&quot;)) {</span>
<span class="nc" id="L267">                            f0.println(&quot;&lt;&quot; + result + &quot;&gt;&quot;);</span>
<span class="nc" id="L268">                            f0.println(variableName + &quot;Var&quot;);</span>
<span class="nc" id="L269">                            f0.println(&quot;&lt;/&quot; + result + &quot;&gt;&quot;);</span>
                        }
<span class="nc bnc" id="L271" title="All 2 branches missed.">                        else if (line.startsWith(&quot;&lt;&quot;)) {</span>
<span class="nc" id="L272">                            f0.println(&quot;&lt;&quot; + result + &quot;&gt;&quot;);</span>
<span class="nc" id="L273">                            f0.println(variableName + &quot;Var&quot;);</span>
                        } 
                        else {
<span class="nc" id="L276">                            f0.println(line);</span>
                        }
                    } 
                    else {
<span class="nc" id="L280">                        f0.println(line);</span>
                    }
                } 
                else {
<span class="nc" id="L284">                    f0.println(line);</span>
                }
<span class="nc" id="L286">            } </span>
            else {
<span class="nc" id="L288">                f0.println(line);</span>
            }
<span class="nc" id="L290">        }</span>
<span class="nc" id="L291">        in.close();</span>
<span class="nc" id="L292">        f0.close();</span>
<span class="nc" id="L293">        copyFileToExistingOne();</span>
<span class="nc" id="L294">    }</span>

    public void constraintAdditionToNode(String selectedNode, String variableName) {
<span class="nc" id="L297">        Scanner in = null;</span>
        try {
<span class="nc" id="L299">            in = new Scanner(new File(ODMEEditor.fileLocation + &quot;/&quot; + &quot;/outputgraphxmlforxsd.xml&quot;));</span>
//                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsd.xml&quot;));
        } 
<span class="nc" id="L302">        catch (FileNotFoundException e) {</span>
<span class="nc" id="L303">            e.printStackTrace();</span>
<span class="nc" id="L304">        }</span>

<span class="nc" id="L306">        PrintWriter f0 = null;</span>
        try {
<span class="nc" id="L308">            f0 = new PrintWriter(new FileWriter( ODMEEditor.fileLocation + &quot;/&quot; + &quot;/outputgraphxmlforxsdvar.xml&quot;));</span>
//                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsdvar.xml&quot;));
        } 
<span class="nc" id="L311">        catch (IOException e1) {</span>
<span class="nc" id="L312">            e1.printStackTrace();</span>
<span class="nc" id="L313">        }</span>

<span class="nc bnc" id="L315" title="All 2 branches missed.">        while (in.hasNext()) { // Iterates each line in the file</span>
<span class="nc" id="L316">            String line = in.nextLine();</span>

<span class="nc bnc" id="L318" title="All 2 branches missed.">            if (line.startsWith(&quot;&lt;?&quot;)) { // have to solve space problem for this line</span>
<span class="nc" id="L319">                f0.println(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; standalone=\&quot;no\&quot;?&gt;&quot;);</span>
            } 
<span class="nc bnc" id="L321" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;/&quot;)) {</span>
<span class="nc" id="L322">                String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L324" title="All 2 branches missed.">                if (result.equals(selectedNode)) {</span>
<span class="nc" id="L325">                    f0.println(line);</span>
<span class="nc" id="L326">                    f0.println(variableName + &quot;Con&quot;);</span>
                    //System.out.println(selectedNode + &quot;: \n&quot; + variableName);
                } 
                else {
<span class="nc" id="L330">                    f0.println(line);</span>
                }
<span class="nc" id="L332">            } </span>
            else {
<span class="nc" id="L334">                f0.println(line);</span>
            }
<span class="nc" id="L336">        }</span>
<span class="nc" id="L337">        in.close();</span>
<span class="nc" id="L338">        f0.close();</span>
<span class="nc" id="L339">        copyFileToExistingOne();</span>
<span class="nc" id="L340">    }</span>

    /**
     * Add constraint to the aspect node in the SES XML structure. To do this take
     * the aspect node path from root and the constraint as arguments.
     *
     * @param sesNodesInPath
     * @param constraint
     */
    public void addConstraintToSESStructure(String[] sesNodesInPath, String constraint) {
<span class="nc" id="L350">        int len = sesNodesInPath.length;</span>
<span class="nc" id="L351">        int count = 0;</span>
<span class="nc" id="L352">        System.out.println(&quot;file path  = &quot;+ODMEEditor.fileLocation + &quot;/&quot;);</span>
<span class="nc" id="L353">        PrintWriter f0 = null;</span>
        try {
<span class="nc" id="L355">            f0 = new PrintWriter(new FileWriter(                    ODMEEditor.fileLocation + &quot;/testcon.xml&quot;));</span>
//                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/testcon.xml&quot;)); // outputgraphxmlforxsdvar
        } 
<span class="nc" id="L358">        catch (IOException e1) {</span>
<span class="nc" id="L359">            e1.printStackTrace();</span>
<span class="nc" id="L360">        }</span>

<span class="nc" id="L362">        Scanner in = null;</span>
        try {
<span class="nc" id="L364">            in = new Scanner(new File(ODMEEditor.fileLocation  + &quot;/xmlforxsd.xml&quot;));</span>
//                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/xmlforxsd.xml&quot;));

        } 
<span class="nc" id="L368">        catch (FileNotFoundException e) {</span>
<span class="nc" id="L369">            e.printStackTrace();</span>
<span class="nc" id="L370">        }</span>

<span class="nc bnc" id="L372" title="All 2 branches missed.">        while (in.hasNext()) {</span>
<span class="nc" id="L373">            String line = in.nextLine();</span>

<span class="nc bnc" id="L375" title="All 2 branches missed.">            if (line.startsWith(&quot;&lt;?&quot;)) {</span>
<span class="nc" id="L376">                f0.println(line);</span>
            } 
<span class="nc bnc" id="L378" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;/&quot;)) {</span>
<span class="nc" id="L379">                f0.println(line);</span>
            } 
<span class="nc bnc" id="L381" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;&quot;)) {</span>
<span class="nc" id="L382">                String node = line.replaceAll(&quot;[&lt;&gt;]&quot;, &quot;&quot;);</span>
<span class="nc" id="L383">                String[] splited = node.split(&quot;\\s+&quot;);</span>

<span class="nc bnc" id="L385" title="All 2 branches missed.">                if (count &lt; len) {</span>
<span class="nc bnc" id="L386" title="All 2 branches missed.">                    if (splited[0].equals(sesNodesInPath[count])) {</span>
<span class="nc" id="L387">                        count++;</span>
                    }
<span class="nc bnc" id="L389" title="All 2 branches missed.">                    if (count == len) {</span>
<span class="nc" id="L390">                        f0.println(&quot;&lt;&quot; + splited[0] + &quot; &quot; + splited[1] + &quot; &quot; + &quot;constraint=\&quot;&quot; + constraint</span>
                                   + &quot;\&quot; &quot; + &quot;&gt;&quot;);
                    } 
                    else {
<span class="nc" id="L394">                        f0.println(line);</span>
                    }
                } 
                else {
<span class="nc" id="L398">                    f0.println(line);</span>
                }

<span class="nc" id="L401">            } </span>
            else {
<span class="nc" id="L403">                f0.println(line);</span>
            }
<span class="nc" id="L405">        }</span>
<span class="nc" id="L406">        in.close();</span>
<span class="nc" id="L407">        f0.close();</span>
<span class="nc" id="L408">    }</span>

    public void placeAssertInRightPosition() {
<span class="nc" id="L411">        PrintWriter f0 = null;</span>

        try {
<span class="nc" id="L414">            f0 = new PrintWriter(new FileWriter(</span>
                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsdvar.xml&quot;));

        } 
<span class="nc" id="L418">        catch (IOException e1) {</span>
<span class="nc" id="L419">            e1.printStackTrace();</span>
<span class="nc" id="L420">        }</span>

<span class="nc" id="L422">        Scanner in = null;</span>
        try {
<span class="nc" id="L424">            in = new Scanner(new File(ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/xsdfromxml.xsd&quot;));</span>
<span class="nc" id="L425">        } catch (FileNotFoundException e) {</span>
<span class="nc" id="L426">            e.printStackTrace();</span>
<span class="nc" id="L427">        }</span>

<span class="nc" id="L429">        boolean finishChaningLinePosition = false;</span>
<span class="nc" id="L430">        boolean deleteExtraAtrributeLineBelowAssert = false;</span>

<span class="nc bnc" id="L432" title="All 2 branches missed.">        while (in.hasNext()) {</span>
<span class="nc" id="L433">            String line = in.nextLine();</span>
<span class="nc bnc" id="L434" title="All 4 branches missed.">            if (line.startsWith(&quot;&lt;xs:assert&quot;) &amp;&amp; !finishChaningLinePosition) {</span>

<span class="nc" id="L436">                f0.println(&quot;&lt;xs:attribute name=\&quot;name\&quot; use=\&quot;optional\&quot;/&gt; &quot;);</span>
<span class="nc" id="L437">                f0.println(line);</span>
<span class="nc" id="L438">                finishChaningLinePosition = true;</span>

            } 
<span class="nc bnc" id="L441" title="All 6 branches missed.">            else if (line.startsWith(&quot;&lt;xs:attribute&quot;) &amp;&amp; !deleteExtraAtrributeLineBelowAssert</span>
                       &amp;&amp; finishChaningLinePosition) {
<span class="nc" id="L443">                deleteExtraAtrributeLineBelowAssert = true;</span>
            } 
            else {
<span class="nc" id="L446">                f0.println(line);</span>
            }
<span class="nc" id="L448">        }</span>

<span class="nc" id="L450">        in.close();</span>
<span class="nc" id="L451">        f0.close();</span>

<span class="nc" id="L453">        copyChangedXSDtoOldOne(); // copy this output to existing one</span>
        ///////////////////////////////////////////////////////
<span class="nc" id="L455">        copyxsdfromxmlToRootNodeNameXSD();</span>
<span class="nc" id="L456">    }</span>

    public void constraintAdditionToNode(TreePath key, String variableName) {
<span class="nc" id="L459">        Object[] stringArrayRev = key.getPath();</span>

<span class="nc" id="L461">        int len = stringArrayRev.length;</span>
<span class="nc" id="L462">        int count = 0;</span>

<span class="nc" id="L464">        Scanner in = null;</span>
        try {
<span class="nc" id="L466">            in = new Scanner(new File(</span>
                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsd.xml&quot;));
        } 
<span class="nc" id="L469">        catch (FileNotFoundException e) {</span>
<span class="nc" id="L470">            e.printStackTrace();</span>
<span class="nc" id="L471">        }</span>

<span class="nc" id="L473">        PrintWriter f0 = null;</span>
        try {
<span class="nc" id="L475">            f0 = new PrintWriter(new FileWriter(</span>
                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsdvar.xml&quot;));
        } 
<span class="nc" id="L478">        catch (IOException e1) {</span>
<span class="nc" id="L479">            e1.printStackTrace();</span>
<span class="nc" id="L480">        }</span>

<span class="nc bnc" id="L482" title="All 2 branches missed.">        while (in.hasNext()) { // Iterates each line in the file</span>
<span class="nc" id="L483">            String line = in.nextLine();</span>
<span class="nc bnc" id="L484" title="All 2 branches missed.">            if (line.startsWith(&quot;&lt;?&quot;)) { // have to solve space problem for this line</span>
<span class="nc" id="L485">                f0.println(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; standalone=\&quot;no\&quot;?&gt;&quot;);</span>
            } 
<span class="nc bnc" id="L487" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;&quot;)) {</span>
<span class="nc" id="L488">                String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L490" title="All 2 branches missed.">                if (count &lt; len) {</span>
<span class="nc bnc" id="L491" title="All 2 branches missed.">                    if (result.equals(stringArrayRev[count].toString())) {</span>
<span class="nc" id="L492">                        count++;</span>
                    }
<span class="nc bnc" id="L494" title="All 2 branches missed.">                    if (count == len) {</span>
<span class="nc bnc" id="L495" title="All 2 branches missed.">                        if (line.endsWith(&quot;/&gt;&quot;)) {</span>
<span class="nc" id="L496">                            f0.println(line);</span>
<span class="nc" id="L497">                            f0.println(variableName + &quot;Con&quot;);</span>
                        } 
                        else {
<span class="nc" id="L500">                            f0.println(line);</span>
                        }

                    } 
                    else {
<span class="nc" id="L505">                        f0.println(line);</span>
                    }
                } 
                else {
<span class="nc" id="L509">                    f0.println(line);</span>
                }
<span class="nc" id="L511">            } </span>
            else {
<span class="nc" id="L513">                f0.println(line);</span>
            }
<span class="nc" id="L515">        }</span>
<span class="nc" id="L516">        in.close();</span>
<span class="nc" id="L517">        f0.close();</span>
<span class="nc" id="L518">        copyFileToExistingOne(); // copy this output to existing one</span>
<span class="nc" id="L519">    }</span>

    public void addingUniformityRefNodeToXML(String[] stringArrayRev, String cellName) {
<span class="nc" id="L522">        int len = stringArrayRev.length;</span>
<span class="nc" id="L523">        int count = 0;</span>

<span class="nc" id="L525">        Scanner in = null;</span>
        try {
<span class="nc" id="L527">            in = new Scanner(new File(</span>
                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsd.xml&quot;));
        } 
<span class="nc" id="L530">        catch (FileNotFoundException e) {</span>
<span class="nc" id="L531">            e.printStackTrace();</span>
<span class="nc" id="L532">        }</span>

<span class="nc" id="L534">        PrintWriter f0 = null;</span>
        try {
<span class="nc" id="L536">            f0 = new PrintWriter(new FileWriter(</span>
                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsdvar.xml&quot;));
        } 
<span class="nc" id="L539">        catch (IOException e1) {</span>
<span class="nc" id="L540">            e1.printStackTrace();</span>
<span class="nc" id="L541">        }</span>

<span class="nc bnc" id="L543" title="All 2 branches missed.">        while (in.hasNext()) { // Iterates each line in the file</span>
<span class="nc" id="L544">            String line = in.nextLine();</span>
<span class="nc" id="L545">            String backline = line; // for assert statement</span>

<span class="nc bnc" id="L547" title="All 2 branches missed.">            if (line.startsWith(&quot;&lt;?&quot;)) { // have to solve space problem for this line</span>
<span class="nc" id="L548">                f0.println(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; standalone=\&quot;no\&quot;?&gt;&quot;);</span>
            } 
<span class="nc bnc" id="L550" title="All 2 branches missed.">            else if (line.startsWith(&quot;if&quot;)) {</span>
<span class="nc" id="L551">                f0.println(backline);</span>
            } 
<span class="nc bnc" id="L553" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;/&quot;)) {</span>
<span class="nc" id="L554">                f0.println(line);</span>
            } 
<span class="nc bnc" id="L556" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;&quot;)) {</span>
<span class="nc" id="L557">                String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L559" title="All 2 branches missed.">                if (count &lt; len) {</span>
<span class="nc bnc" id="L560" title="All 2 branches missed.">                    if (result.equals(stringArrayRev[count])) {</span>
<span class="nc" id="L561">                        count++;</span>
                    }
<span class="nc bnc" id="L563" title="All 2 branches missed.">                    if (count == len) {</span>
<span class="nc" id="L564">                        f0.println(line);</span>
<span class="nc" id="L565">                        f0.println(&quot;&lt;&quot; + cellName + &quot;RefNode/&gt;&quot;);</span>
                    } 
                    else {
<span class="nc" id="L568">                        f0.println(line);</span>
                    }
                } else {
<span class="nc" id="L571">                    f0.println(line);</span>
                }
<span class="nc" id="L573">            } </span>
            else {
<span class="nc" id="L575">                f0.println(line);</span>
            }
<span class="nc" id="L577">        }</span>
<span class="nc" id="L578">        in.close();</span>
<span class="nc" id="L579">        f0.close();</span>

<span class="nc" id="L581">        copyFileToExistingOne();</span>
<span class="nc" id="L582">    }</span>

    // this file is used when in one node there will be multiple aspect or
    // combination of aspect and specialization or multiaspect. It add Seq node and
    // for this i get &lt;entity name=&quot;Seq&quot;&gt;
    // to remove &lt;entity name=&quot;Seq&quot;&gt; i have added Seq ignore in xmlOutputForXSD
    // conversion function in JtreToGraph class
    //
    public void fixingSequenceProblem(String[] stringArrayRev) {
<span class="nc" id="L591">        int len = stringArrayRev.length;</span>
<span class="nc" id="L592">        int count = 0;</span>

<span class="nc" id="L594">        Scanner in = null;</span>
        try {
<span class="nc" id="L596">            in = new Scanner(new File(</span>
                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsd.xml&quot;));
        } 
<span class="nc" id="L599">        catch (FileNotFoundException e) {</span>
<span class="nc" id="L600">            e.printStackTrace();</span>
<span class="nc" id="L601">        }</span>

<span class="nc" id="L603">        PrintWriter f0 = null;</span>
        try {
<span class="nc" id="L605">            f0 = new PrintWriter(new FileWriter(</span>
                    ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + &quot;/outputgraphxmlforxsdseq.xml&quot;));
        } 
<span class="nc" id="L608">        catch (IOException e1) {</span>
<span class="nc" id="L609">            e1.printStackTrace();</span>
<span class="nc" id="L610">        }</span>

<span class="nc" id="L612">        String seqNode = &quot;&quot;;</span>

<span class="nc bnc" id="L614" title="All 2 branches missed.">        while (in.hasNext()) { // Iterates each line in the file</span>
<span class="nc" id="L615">            String line = in.nextLine();</span>
<span class="nc" id="L616">            String backline = line;</span>

<span class="nc bnc" id="L618" title="All 2 branches missed.">            if (line.startsWith(&quot;&lt;?&quot;)) { // have to solve space problem for this line</span>
<span class="nc" id="L619">                f0.println(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; standalone=\&quot;no\&quot;?&gt;&quot;);</span>
            } 
<span class="nc bnc" id="L621" title="All 2 branches missed.">            else if (line.startsWith(&quot;if&quot;)) {</span>
<span class="nc" id="L622">                f0.println(backline);</span>

            } 
<span class="nc bnc" id="L625" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;/&quot;)) {</span>

<span class="nc" id="L627">                String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>
<span class="nc bnc" id="L628" title="All 2 branches missed.">                if (result.equals(seqNode)) {</span>
<span class="nc" id="L629">                    f0.println(&quot;&lt;/Seq&gt;&quot;);</span>
<span class="nc" id="L630">                    f0.println(line);</span>
                } 
                else {
<span class="nc" id="L633">                    f0.println(line);</span>
                }

<span class="nc" id="L636">            } </span>
<span class="nc bnc" id="L637" title="All 2 branches missed.">            else if (line.startsWith(&quot;&lt;&quot;)) {</span>
<span class="nc" id="L638">                String result = line.replaceAll(&quot;[&lt;/&gt;]&quot;, &quot;&quot;);</span>

<span class="nc bnc" id="L640" title="All 2 branches missed.">                if (count &lt; len) {</span>
<span class="nc bnc" id="L641" title="All 2 branches missed.">                    if (result.equals(stringArrayRev[count])) {</span>
<span class="nc" id="L642">                        count++;</span>
                    }
<span class="nc bnc" id="L644" title="All 2 branches missed.">                    if (count == len) {</span>
<span class="nc" id="L645">                        f0.println(line);</span>
<span class="nc" id="L646">                        seqNode = result;</span>
<span class="nc" id="L647">                        f0.println(&quot;&lt;Seq&gt;&quot;);</span>
                    } 
                    else {
<span class="nc" id="L650">                        f0.println(line);</span>
                    }
                } 
                else {
<span class="nc" id="L654">                    f0.println(line);</span>
                }
<span class="nc" id="L656">            } </span>
            else {
<span class="nc" id="L658">                f0.println(line);</span>
            }
<span class="nc" id="L660">        }</span>
<span class="nc" id="L661">        in.close();</span>
<span class="nc" id="L662">        f0.close();</span>

<span class="nc" id="L664">        copyfixingSequenceFileToExistingOne();</span>
<span class="nc" id="L665">    }</span>

    public void modifyXmlOutputForRefNode() {
<span class="nc" id="L668">    	copyModifyHelper(&quot;/outputgraphxmlforxsd.xml&quot;, &quot;/outputgraphxmlforxsdvar.xml&quot;, &quot;/&gt;&quot;);</span>
<span class="nc" id="L669">    }</span>

    /**
     * Modify the generated graphxml.xml output from graph to remove &lt;start&gt; and
     * &lt;/start&gt; tag from the file.
     */
    public void modifyXmlOutputForXSD() {
<span class="nc" id="L676">    	copyModifyHelper(&quot;/outputgraphxmlforxsd.xml&quot;, &quot;/graphxmluniformity.xml&quot;, &quot;start&gt;&quot;);</span>
<span class="nc" id="L677">    }</span>

    public void copyChangedXSDtoOldOne() {
<span class="nc" id="L680">    	copyModifyHelper(&quot;/xsdfromxml.xsd&quot;, &quot;/outputgraphxmlforxsdvar.xml&quot;, null);</span>
<span class="nc" id="L681">    }</span>
    
    public void copyFileToExistingOne() {
<span class="nc" id="L684">    	copyModifyHelper(&quot;/outputgraphxmlforxsd.xml&quot;, &quot;/outputgraphxmlforxsdvar.xml&quot;, null);</span>
<span class="nc" id="L685">    }</span>
    
    public void copyfixingSequenceFileToExistingOne() {
<span class="nc" id="L688">    	copyModifyHelper(&quot;/outputgraphxmlforxsd.xml&quot;, &quot;/outputgraphxmlforxsdseq.xml&quot;, null);</span>
<span class="nc" id="L689">    }</span>

    public void copyxsdfromxmlToRootNodeNameXSD() {
<span class="nc" id="L692">        String rootNodeName = JtreeToGraphGeneral.rootNodeName();</span>
<span class="nc" id="L693">        copyModifyHelper(&quot;/&quot; + rootNodeName + &quot;.xsd&quot;, &quot;/outputgraphxmlforxsdvar.xml&quot;, null);</span>
<span class="nc" id="L694">    }</span>
    
    private void copyModifyHelper(String file1, String file2, String modify) {
<span class="nc" id="L697">        PrintWriter f0 = null;</span>
        try {
<span class="nc" id="L699">        	String path = new String();</span>
<span class="nc bnc" id="L700" title="All 2 branches missed.">        	if (ODMEEditor.toolMode == &quot;ses&quot;)</span>
<span class="nc" id="L701">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + file1;</span>
        	else
<span class="nc" id="L703">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.currentScenario + file1;</span>
        	
<span class="nc" id="L705">            f0 = new PrintWriter(new FileWriter(path));</span>
        } 
<span class="nc" id="L707">        catch (IOException e1) {</span>
<span class="nc" id="L708">            e1.printStackTrace();</span>
<span class="nc" id="L709">        }</span>
        
<span class="nc" id="L711">        Scanner in = null;</span>
        try {
<span class="nc" id="L713">        	String path = new String();</span>
<span class="nc bnc" id="L714" title="All 2 branches missed.">        	if (ODMEEditor.toolMode == &quot;ses&quot;)</span>
<span class="nc" id="L715">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.projName + file2;</span>
        	else
<span class="nc" id="L717">        		path = ODMEEditor.fileLocation + &quot;/&quot; + ODMEEditor.currentScenario + file2;</span>
        	
<span class="nc" id="L719">            in = new Scanner(new File(path));</span>
        } 
<span class="nc" id="L721">        catch (FileNotFoundException e) {</span>
<span class="nc" id="L722">            e.printStackTrace();</span>
<span class="nc" id="L723">        }</span>

<span class="nc bnc" id="L725" title="All 2 branches missed.">        while (in.hasNext()) { // Iterates each line in the file</span>
<span class="nc" id="L726">            String line = in.nextLine();</span>
<span class="nc bnc" id="L727" title="All 2 branches missed.">            if (modify != null) {</span>
<span class="nc bnc" id="L728" title="All 2 branches missed.">            	if (line.endsWith(modify))</span>
<span class="nc" id="L729">            		continue;</span>
            }
<span class="nc" id="L731">            f0.println(line);</span>
<span class="nc" id="L732">        }</span>
<span class="nc" id="L733">        in.close();</span>
<span class="nc" id="L734">        f0.close();</span>
<span class="nc" id="L735">    }</span>

    public void createSES(String path) {
<span class="nc" id="L738">        PrintWriter f0 = null;</span>
        try {
<span class="nc" id="L740">            f0 = new PrintWriter(new FileWriter(path));</span>
        } 
<span class="nc" id="L742">        catch (IOException e1) {</span>
<span class="nc" id="L743">            e1.printStackTrace();</span>
<span class="nc" id="L744">        }</span>

        // writing to the file
<span class="nc" id="L747">        String ses = &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\r\n&quot;</span>
                     + &quot;&lt;xs:schema xmlns:xs=\&quot;http://www.w3.org/2001/XMLSchema\&quot; elementFormDefault=\&quot;qualified\&quot;\r\n&quot;
                     + &quot;    xmlns:vc=\&quot;http://www.w3.org/2007/XMLSchema-versioning\&quot; vc:minVersion=\&quot;1.1\&quot;&gt;\r\n&quot;
                     + &quot;    \r\n&quot; + &quot;        &lt;xs:complexType name=\&quot;aspectType\&quot;&gt;\r\n&quot;
                     + &quot;        &lt;xs:sequence&gt;\r\n&quot;
                     + &quot;            &lt;xs:element minOccurs=\&quot;0\&quot; maxOccurs=\&quot;unbounded\&quot; ref=\&quot;entity\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;/xs:sequence&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;name\&quot; use=\&quot;required\&quot;/&gt;\r\n&quot;
                     + &quot;    &lt;/xs:complexType&gt;\r\n&quot; + &quot;\r\n&quot;
                     + &quot;    &lt;xs:complexType name=\&quot;multiAspectType\&quot;&gt;\r\n&quot; + &quot;        &lt;xs:sequence&gt;\r\n&quot;
                     + &quot;            &lt;xs:element minOccurs=\&quot;0\&quot; maxOccurs=\&quot;unbounded\&quot; ref=\&quot;entity\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;/xs:sequence&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;name\&quot; use=\&quot;required\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;constraint\&quot; use=\&quot;optional\&quot;/&gt;\r\n&quot;
                     + &quot;    &lt;/xs:complexType&gt;\r\n&quot; + &quot;\r\n&quot;
                     + &quot;    &lt;xs:complexType name=\&quot;specializationType\&quot;&gt;\r\n&quot; + &quot;        &lt;xs:sequence&gt;\r\n&quot;
                     + &quot;            &lt;xs:element minOccurs=\&quot;0\&quot; maxOccurs=\&quot;unbounded\&quot; ref=\&quot;entity\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;/xs:sequence&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;name\&quot; use=\&quot;required\&quot;/&gt;\r\n&quot;
                     + &quot;    &lt;/xs:complexType&gt;\r\n&quot; + &quot;\r\n&quot; + &quot;\r\n&quot;
                     + &quot;    &lt;xs:complexType name=\&quot;varType\&quot;&gt; \r\n&quot; + &quot;        &lt;xs:sequence&gt;\r\n&quot;
                     + &quot;            &lt;xs:element minOccurs=\&quot;0\&quot; maxOccurs=\&quot;unbounded\&quot; ref=\&quot;entity\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;/xs:sequence&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;name\&quot; use=\&quot;required\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;type\&quot; use=\&quot;optional\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;default\&quot; use=\&quot;optional\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;lower\&quot; use=\&quot;optional\&quot;/&gt;\r\n&quot;
                     + &quot;        &lt;xs:attribute name=\&quot;upper\&quot; use=\&quot;optional\&quot;/&gt;\r\n&quot; + &quot;        \r\n&quot;
                     + &quot;    &lt;/xs:complexType&gt;\r\n&quot; + &quot;\r\n&quot; + &quot;\r\n&quot; + &quot;    &lt;xs:element name=\&quot;entity\&quot;&gt;\r\n&quot;
                     + &quot;        &lt;xs:complexType&gt;\r\n&quot; + &quot;            &lt;xs:sequence&gt;\r\n&quot;
                     + &quot;                &lt;xs:choice minOccurs=\&quot;0\&quot; maxOccurs=\&quot;unbounded\&quot;&gt;\r\n&quot;
                     + &quot;                    &lt;xs:element ref=\&quot;aspect\&quot;/&gt;\r\n&quot;
                     + &quot;                    &lt;xs:element ref=\&quot;specialization\&quot;/&gt;\r\n&quot;
                     + &quot;                    &lt;xs:element ref=\&quot;multiAspect\&quot;/&gt;\r\n&quot;
                     + &quot;                    &lt;xs:element ref=\&quot;var\&quot;/&gt;\r\n&quot; + &quot;                    \r\n&quot;
                     + &quot;                &lt;/xs:choice&gt;            \r\n&quot; + &quot;                \r\n&quot;
                     + &quot;            &lt;/xs:sequence&gt;\r\n&quot; + &quot;\r\n&quot;
                     + &quot;            &lt;xs:attribute name=\&quot;name\&quot; use=\&quot;required\&quot;/&gt;\r\n&quot;
                     + &quot;            &lt;xs:attribute name=\&quot;ref\&quot; use=\&quot;optional\&quot;/&gt;\r\n&quot; + &quot;          \r\n&quot;
                     + &quot;            &lt;xs:assert test=\&quot;every $x in .//entity satisfies empty($x//*[@name = $x/@name])\&quot;/&gt; \r\n&quot;
                     + &quot;            &lt;xs:assert test=\&quot;every $x in .//entity satisfies count(*[$x/@name = $x/following-sibling::*/@name]) = 0\&quot;/&gt;                \r\n&quot;
                     + &quot;            &lt;xs:assert test=\&quot;every $x in .//var satisfies count(*[@name = following-sibling::*/@name]) = 0\&quot;/&gt;                                     \r\n&quot;
                     + &quot;            \r\n&quot; + &quot;        &lt;/xs:complexType&gt;      \r\n&quot; + &quot;        \r\n&quot;
                     + &quot;      \r\n&quot; + &quot;    &lt;/xs:element&gt;\r\n&quot; + &quot;\r\n&quot;
                     + &quot;    &lt;xs:element name=\&quot;aspect\&quot; type=\&quot;aspectType\&quot;/&gt;\r\n&quot;
                     + &quot;    &lt;xs:element name=\&quot;multiAspect\&quot; type=\&quot;multiAspectType\&quot;/&gt;\r\n&quot;
                     + &quot;    &lt;xs:element name=\&quot;specialization\&quot; type=\&quot;specializationType\&quot;/&gt;\r\n&quot;
                     + &quot;    &lt;xs:element name=\&quot;var\&quot; type=\&quot;varType\&quot;/&gt;   \r\n&quot; + &quot;\r\n&quot; + &quot;     \r\n&quot;
                     + &quot;&lt;/xs:schema&gt;\r\n&quot; + &quot;&quot;;

<span class="nc" id="L797">        f0.println(ses);</span>
<span class="nc" id="L798">        f0.close();</span>
<span class="nc" id="L799">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>